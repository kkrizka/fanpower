EESchema Schematic File Version 4
LIBS:pumppower-cache
EELAYER 26 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 1 1
Title "IoT CPU Fan Controller"
Date ""
Rev ""
Comp "Lawrence Berkeley National Laboratory"
Comment1 "Karol Krizka"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	4500 1950 4400 1950
Wire Wire Line
	4300 1750 4300 1650
Wire Wire Line
	4300 1750 4500 1750
Text Label 4400 1950 2    50   ~ 0
SIGTACH1
$Comp
L power:GND #PWR011
U 1 1 5BB800ED
P 3550 2400
F 0 "#PWR011" H 3550 2150 50  0001 C CNN
F 1 "GND" H 3555 2227 50  0000 C CNN
F 2 "" H 3550 2400 50  0001 C CNN
F 3 "" H 3550 2400 50  0001 C CNN
	1    3550 2400
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR012
U 1 1 5BB8013F
P 4300 1650
F 0 "#PWR012" H 4300 1500 50  0001 C CNN
F 1 "+12V" H 4315 1823 50  0000 C CNN
F 2 "" H 4300 1650 50  0001 C CNN
F 3 "" H 4300 1650 50  0001 C CNN
	1    4300 1650
	1    0    0    -1  
$EndComp
$Comp
L MCU_Module:Adafruit_HUZZAH_ESP8266_breakout A1
U 1 1 5BB80BEE
P 5050 4150
F 0 "A1" H 4650 3400 50  0000 C CNN
F 1 "Adafruit_HUZZAH_ESP8266_breakout" H 6000 4900 50  0000 C CNN
F 2 "" H 5250 4750 50  0001 C CNN
F 3 "https://www.adafruit.com/product/2471" H 5350 4850 50  0001 C CNN
	1    5050 4150
	1    0    0    -1  
$EndComp
NoConn ~ 4450 3850
NoConn ~ 4450 3950
NoConn ~ 4450 4050
NoConn ~ 4450 4250
NoConn ~ 4450 4350
Wire Wire Line
	4950 4950 4950 5000
Wire Wire Line
	4950 5000 5050 5000
Wire Wire Line
	5150 5000 5150 4950
Wire Wire Line
	5050 5000 5050 5050
Connection ~ 5050 5000
Wire Wire Line
	5050 5000 5150 5000
$Comp
L power:GND #PWR015
U 1 1 5BB815C9
P 5050 5050
F 0 "#PWR015" H 5050 4800 50  0001 C CNN
F 1 "GND" H 5055 4877 50  0000 C CNN
F 2 "" H 5050 5050 50  0001 C CNN
F 3 "" H 5050 5050 50  0001 C CNN
	1    5050 5050
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR016
U 1 1 5BB81696
P 5250 3250
F 0 "#PWR016" H 5250 3100 50  0001 C CNN
F 1 "+3V3" H 5265 3423 50  0000 C CNN
F 2 "" H 5250 3250 50  0001 C CNN
F 3 "" H 5250 3250 50  0001 C CNN
	1    5250 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 3350 5250 3250
NoConn ~ 5050 3350
$Comp
L power:+5V #PWR014
U 1 1 5BB81A3C
P 4850 3250
F 0 "#PWR014" H 4850 3100 50  0001 C CNN
F 1 "+5V" H 4865 3423 50  0000 C CNN
F 2 "" H 4850 3250 50  0001 C CNN
F 3 "" H 4850 3250 50  0001 C CNN
	1    4850 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 3350 4850 3250
$Comp
L Device:R R4
U 1 1 5BB81CA6
P 4750 1150
F 0 "R4" H 4820 1196 50  0000 L CNN
F 1 "10k" H 4820 1105 50  0000 L CNN
F 2 "" V 4680 1150 50  0001 C CNN
F 3 "~" H 4750 1150 50  0001 C CNN
	1    4750 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR013
U 1 1 5BB81D7F
P 4750 900
F 0 "#PWR013" H 4750 750 50  0001 C CNN
F 1 "+3V3" H 4765 1073 50  0000 C CNN
F 2 "" H 4750 900 50  0001 C CNN
F 3 "" H 4750 900 50  0001 C CNN
	1    4750 900 
	1    0    0    -1  
$EndComp
Wire Wire Line
	4750 1300 4750 1400
Wire Wire Line
	4750 1400 4600 1400
Wire Wire Line
	4750 1000 4750 900 
Text Label 4600 1400 2    50   ~ 0
SIGTACH1
Wire Wire Line
	5650 3950 5750 3950
Wire Wire Line
	5650 4050 5750 4050
Wire Wire Line
	5650 4150 5750 4150
Wire Wire Line
	5650 4250 5750 4250
NoConn ~ 5650 4550
Text Label 5750 4150 0    50   ~ 0
SIGTACH1
Text Label 5750 4250 0    50   ~ 0
SIGTACH2
Text Label 5750 4350 0    50   ~ 0
SIGON1
Text Label 5750 4450 0    50   ~ 0
SIGON2
Wire Wire Line
	5650 3750 5750 3750
Wire Wire Line
	5750 3850 5650 3850
Wire Wire Line
	5650 4350 5750 4350
Wire Wire Line
	5650 4450 5750 4450
Text Label 5750 3750 0    50   ~ 0
SIGPWM1
Text Label 5750 3850 0    50   ~ 0
SIGPWM2
$Comp
L Connector_Generic:Conn_01x04 J4
U 1 1 5BFBF323
P 4700 1850
F 0 "J4" H 4780 1842 50  0000 L CNN
F 1 "Conn_01x04" H 4780 1751 50  0000 L CNN
F 2 "" H 4700 1850 50  0001 C CNN
F 3 "~" H 4700 1850 50  0001 C CNN
	1    4700 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 2050 4400 2050
Text Label 4400 2050 2    50   ~ 0
SIGPWM1
$Comp
L Device:R R1
U 1 1 5BFC1CC2
P 2450 5000
F 0 "R1" H 2520 5046 50  0000 L CNN
F 1 "10k" H 2520 4955 50  0000 L CNN
F 2 "" V 2380 5000 50  0001 C CNN
F 3 "~" H 2450 5000 50  0001 C CNN
	1    2450 5000
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J3
U 1 1 5BFC1E46
P 2650 5250
F 0 "J3" H 2730 5242 50  0000 L CNN
F 1 "Conn_01x02" H 2730 5151 50  0000 L CNN
F 2 "" H 2650 5250 50  0001 C CNN
F 3 "~" H 2650 5250 50  0001 C CNN
	1    2650 5250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 5250 2450 5150
$Comp
L power:+3V3 #PWR06
U 1 1 5BFC2B9B
P 2450 4750
F 0 "#PWR06" H 2450 4600 50  0001 C CNN
F 1 "+3V3" H 2465 4923 50  0000 C CNN
F 2 "" H 2450 4750 50  0001 C CNN
F 3 "" H 2450 4750 50  0001 C CNN
	1    2450 4750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 4850 2450 4750
$Comp
L power:GND #PWR07
U 1 1 5BFC3708
P 2450 5450
F 0 "#PWR07" H 2450 5200 50  0001 C CNN
F 1 "GND" H 2455 5277 50  0000 C CNN
F 2 "" H 2450 5450 50  0001 C CNN
F 3 "" H 2450 5450 50  0001 C CNN
	1    2450 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 5450 2450 5350
Wire Wire Line
	2450 5250 2350 5250
Connection ~ 2450 5250
Text Label 2350 5250 2    50   ~ 0
NTC
Text Label 4450 4550 2    50   ~ 0
NTC
$Comp
L Transistor_FET:IRLZ34N Q1
U 1 1 5BFC542F
P 3450 2150
F 0 "Q1" H 3655 2196 50  0000 L CNN
F 1 "IRLZ34N" H 3655 2105 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 3700 2075 50  0001 L CIN
F 3 "http://www.infineon.com/dgdl/irlz34npbf.pdf?fileId=5546d462533600a40153567206892720" H 3450 2150 50  0001 L CNN
	1    3450 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 2400 3550 2350
Wire Wire Line
	3250 2150 3200 2150
Text Label 3200 2150 2    50   ~ 0
SIGON1
Text Label 5750 3950 0    50   ~ 0
I2C_SCL
Text Label 5750 4050 0    50   ~ 0
I2C_SDA
$Comp
L Device:R R2
U 1 1 5BFCA014
P 2600 3800
F 0 "R2" H 2670 3846 50  0000 L CNN
F 1 "2k" H 2670 3755 50  0000 L CNN
F 2 "" V 2530 3800 50  0001 C CNN
F 3 "~" H 2600 3800 50  0001 C CNN
	1    2600 3800
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR08
U 1 1 5BFCA0A0
P 2600 3550
F 0 "#PWR08" H 2600 3400 50  0001 C CNN
F 1 "+3V3" H 2615 3723 50  0000 C CNN
F 2 "" H 2600 3550 50  0001 C CNN
F 3 "" H 2600 3550 50  0001 C CNN
	1    2600 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 3550 2600 3650
$Comp
L power:+3V3 #PWR09
U 1 1 5BFCA854
P 2900 3550
F 0 "#PWR09" H 2900 3400 50  0001 C CNN
F 1 "+3V3" H 2915 3723 50  0000 C CNN
F 2 "" H 2900 3550 50  0001 C CNN
F 3 "" H 2900 3550 50  0001 C CNN
	1    2900 3550
	1    0    0    -1  
$EndComp
$Comp
L Device:R R3
U 1 1 5BFCA8AC
P 2900 3800
F 0 "R3" H 2970 3846 50  0000 L CNN
F 1 "2k" H 2970 3755 50  0000 L CNN
F 2 "" V 2830 3800 50  0001 C CNN
F 3 "~" H 2900 3800 50  0001 C CNN
	1    2900 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2900 3650 2900 3550
Wire Wire Line
	2600 3950 2600 4050
Wire Wire Line
	2600 4050 2550 4050
Wire Wire Line
	2900 3950 2900 4150
Wire Wire Line
	2900 4150 2550 4150
Text Label 2550 4050 2    50   ~ 0
I2C_SCL
Text Label 2550 4150 2    50   ~ 0
I2C_SDA
$Comp
L Connector_Generic:Conn_01x06 J1
U 1 1 5BFCEBF2
P 1600 3800
F 0 "J1" H 1680 3792 50  0000 L CNN
F 1 "Conn_01x06" H 1680 3701 50  0000 L CNN
F 2 "" H 1600 3800 50  0001 C CNN
F 3 "~" H 1600 3800 50  0001 C CNN
	1    1600 3800
	1    0    0    -1  
$EndComp
NoConn ~ 1400 3600
NoConn ~ 1400 3700
Wire Wire Line
	1400 3800 1300 3800
Wire Wire Line
	1400 3900 1300 3900
Text Label 1300 3800 2    50   ~ 0
I2C_SCL
Text Label 1300 3900 2    50   ~ 0
I2C_SDA
$Comp
L power:+3V3 #PWR01
U 1 1 5BFD06D1
P 850 4000
F 0 "#PWR01" H 850 3850 50  0001 C CNN
F 1 "+3V3" H 865 4173 50  0000 C CNN
F 2 "" H 850 4000 50  0001 C CNN
F 3 "" H 850 4000 50  0001 C CNN
	1    850  4000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR02
U 1 1 5BFD0759
P 850 4100
F 0 "#PWR02" H 850 3850 50  0001 C CNN
F 1 "GND" H 855 3927 50  0000 C CNN
F 2 "" H 850 4100 50  0001 C CNN
F 3 "" H 850 4100 50  0001 C CNN
	1    850  4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	850  4100 1400 4100
Wire Wire Line
	1400 4000 850  4000
$Comp
L Switch:SW_SPDT SW1
U 1 1 5BFC7043
P 3850 1850
F 0 "SW1" H 3850 1525 50  0000 C CNN
F 1 "SW_SPDT" H 3850 1616 50  0000 C CNN
F 2 "" H 3850 1850 50  0001 C CNN
F 3 "" H 3850 1850 50  0001 C CNN
	1    3850 1850
	-1   0    0    1   
$EndComp
Wire Wire Line
	4050 1850 4500 1850
Wire Wire Line
	3650 1950 3550 1950
$Comp
L power:GND #PWR010
U 1 1 5BFCCDAF
P 3450 1750
F 0 "#PWR010" H 3450 1500 50  0001 C CNN
F 1 "GND" H 3455 1577 50  0000 C CNN
F 2 "" H 3450 1750 50  0001 C CNN
F 3 "" H 3450 1750 50  0001 C CNN
	1    3450 1750
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 1750 3450 1750
Wire Wire Line
	6900 1950 6800 1950
Wire Wire Line
	6700 1750 6700 1650
Wire Wire Line
	6700 1750 6900 1750
Text Label 6800 1950 2    50   ~ 0
SIGTACH2
$Comp
L power:GND #PWR018
U 1 1 5BFCE9F7
P 5950 2400
F 0 "#PWR018" H 5950 2150 50  0001 C CNN
F 1 "GND" H 5955 2227 50  0000 C CNN
F 2 "" H 5950 2400 50  0001 C CNN
F 3 "" H 5950 2400 50  0001 C CNN
	1    5950 2400
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR019
U 1 1 5BFCE9FD
P 6700 1650
F 0 "#PWR019" H 6700 1500 50  0001 C CNN
F 1 "+12V" H 6715 1823 50  0000 C CNN
F 2 "" H 6700 1650 50  0001 C CNN
F 3 "" H 6700 1650 50  0001 C CNN
	1    6700 1650
	1    0    0    -1  
$EndComp
$Comp
L Device:R R5
U 1 1 5BFCEA03
P 7150 1150
F 0 "R5" H 7220 1196 50  0000 L CNN
F 1 "10k" H 7220 1105 50  0000 L CNN
F 2 "" V 7080 1150 50  0001 C CNN
F 3 "~" H 7150 1150 50  0001 C CNN
	1    7150 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR020
U 1 1 5BFCEA09
P 7150 900
F 0 "#PWR020" H 7150 750 50  0001 C CNN
F 1 "+3V3" H 7165 1073 50  0000 C CNN
F 2 "" H 7150 900 50  0001 C CNN
F 3 "" H 7150 900 50  0001 C CNN
	1    7150 900 
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 1300 7150 1400
Wire Wire Line
	7150 1400 7000 1400
Wire Wire Line
	7150 1000 7150 900 
Text Label 7000 1400 2    50   ~ 0
SIGTACH2
$Comp
L Connector_Generic:Conn_01x04 J5
U 1 1 5BFCEA13
P 7100 1850
F 0 "J5" H 7180 1842 50  0000 L CNN
F 1 "Conn_01x04" H 7180 1751 50  0000 L CNN
F 2 "" H 7100 1850 50  0001 C CNN
F 3 "~" H 7100 1850 50  0001 C CNN
	1    7100 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	6900 2050 6800 2050
Text Label 6800 2050 2    50   ~ 0
SIGPWM2
$Comp
L Transistor_FET:IRLZ34N Q2
U 1 1 5BFCEA1B
P 5850 2150
F 0 "Q2" H 6055 2196 50  0000 L CNN
F 1 "IRLZ34N" H 6055 2105 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 6100 2075 50  0001 L CIN
F 3 "http://www.infineon.com/dgdl/irlz34npbf.pdf?fileId=5546d462533600a40153567206892720" H 5850 2150 50  0001 L CNN
	1    5850 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 2400 5950 2350
Wire Wire Line
	5650 2150 5600 2150
Text Label 5600 2150 2    50   ~ 0
SIGON2
$Comp
L Switch:SW_SPDT SW2
U 1 1 5BFCEA24
P 6250 1850
F 0 "SW2" H 6250 1525 50  0000 C CNN
F 1 "SW_SPDT" H 6250 1616 50  0000 C CNN
F 2 "" H 6250 1850 50  0001 C CNN
F 3 "" H 6250 1850 50  0001 C CNN
	1    6250 1850
	-1   0    0    1   
$EndComp
Wire Wire Line
	6450 1850 6900 1850
Wire Wire Line
	6050 1950 5950 1950
$Comp
L power:GND #PWR017
U 1 1 5BFCEA2C
P 5850 1750
F 0 "#PWR017" H 5850 1500 50  0001 C CNN
F 1 "GND" H 5855 1577 50  0000 C CNN
F 2 "" H 5850 1750 50  0001 C CNN
F 3 "" H 5850 1750 50  0001 C CNN
	1    5850 1750
	1    0    0    -1  
$EndComp
Wire Wire Line
	6050 1750 5850 1750
$Comp
L Connector_Generic:Conn_01x04 J2
U 1 1 5BFCF9B3
P 1900 1050
F 0 "J2" H 1980 1042 50  0000 L CNN
F 1 "Conn_01x04" H 1980 951 50  0000 L CNN
F 2 "" H 1900 1050 50  0001 C CNN
F 3 "~" H 1900 1050 50  0001 C CNN
	1    1900 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 1150 1700 1050
Connection ~ 1700 1050
$Comp
L power:GND #PWR03
U 1 1 5BFD33C9
P 1350 1050
F 0 "#PWR03" H 1350 800 50  0001 C CNN
F 1 "GND" H 1355 877 50  0000 C CNN
F 2 "" H 1350 1050 50  0001 C CNN
F 3 "" H 1350 1050 50  0001 C CNN
	1    1350 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 1050 1700 1050
$Comp
L power:PWR_FLAG #FLG0101
U 1 1 5BFD9D87
P 1050 1250
F 0 "#FLG0101" H 1050 1325 50  0001 C CNN
F 1 "PWR_FLAG" H 1050 1424 50  0000 C CNN
F 2 "" H 1050 1250 50  0001 C CNN
F 3 "~" H 1050 1250 50  0001 C CNN
	1    1050 1250
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0101
U 1 1 5BFD9E22
P 650 1250
F 0 "#PWR0101" H 650 1100 50  0001 C CNN
F 1 "+5V" H 665 1423 50  0000 C CNN
F 2 "" H 650 1250 50  0001 C CNN
F 3 "" H 650 1250 50  0001 C CNN
	1    650  1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	1050 1250 1700 1250
Connection ~ 1050 1250
$Comp
L power:+12V #PWR0102
U 1 1 5BFDD1CF
P 650 950
F 0 "#PWR0102" H 650 800 50  0001 C CNN
F 1 "+12V" H 665 1123 50  0000 C CNN
F 2 "" H 650 950 50  0001 C CNN
F 3 "" H 650 950 50  0001 C CNN
	1    650  950 
	1    0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG0102
U 1 1 5BFDE315
P 1050 950
F 0 "#FLG0102" H 1050 1025 50  0001 C CNN
F 1 "PWR_FLAG" H 1050 1124 50  0000 C CNN
F 2 "" H 1050 950 50  0001 C CNN
F 3 "~" H 1050 950 50  0001 C CNN
	1    1050 950 
	1    0    0    -1  
$EndComp
Connection ~ 1050 950 
Wire Wire Line
	1050 950  1700 950 
Wire Wire Line
	650  1250 1050 1250
Wire Wire Line
	650  950  1050 950 
$EndSCHEMATC
